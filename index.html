<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<script type="text/javascript" src="https://cdn.jsdelivr.net/npm/jquery@3.3.1/dist/jquery.min.js"></script>
<link href="https://cdn.jsdelivr.net/npm/nanogallery2@3/dist/css/nanogallery2.min.css" rel="stylesheet" type="text/css">
<script type="text/javascript" src="https://cdn.jsdelivr.net/npm/nanogallery2@3/dist/jquery.nanogallery2.min.js"></script>
<title>Jesse Young — Portfolio</title>
<style>
  :root{
    --header-h:68px;
    --accent-blue:#1e90ff;
    --accent-green:#00ff7f;
    --accent-yellow:#ffff00;
    --mono: ui-monospace, SFMono-Regular, Menlo, Monaco, 'Roboto Mono', 'Courier New', monospace;
  }
    /* Make all links readable on dark background */
a {
  color: var(--accent-blue); /* or pick any bright color */
  text-decoration: underline;
}

a:hover {
  color: var(--accent-green); /* hover color */
}
  html,body{height:100%;margin:0;background:#000;color:#fff;overflow:hidden;font-family:Inter, system-ui, -apple-system, 'Segoe UI', Roboto, 'Helvetica Neue', Arial}

  /* Top bar (white bar as requested) */
  header{position:fixed;top:0;left:0;right:0;height:var(--header-h);background:#fff;color:#000;display:flex;align-items:center;justify-content:space-between;padding:0 22px;z-index:220;border-bottom:1px solid #e6e6e6}
  header .title{font-weight:900;font-family:var(--mono);font-size:2rem;color:#111}
  header .menu-btn{cursor:pointer;font-weight:700;font-family:var(--mono);color:var(--accent-blue)}

  /* subtitle small and less prominent */
  .subtitle{position:fixed;left:22px;top:calc(var(--header-h) + 8px);font-family:var(--mono);font-size:13px;color:var(--accent-green);z-index:210}

  /* canvas occupies full viewport under header */
  canvas{position:fixed;inset:0;display:block;z-index:0}

  /* nav & panel as before */
  nav{position:fixed;top:var(--header-h);right:-300px;width:260px;height:calc(100% - var(--header-h));background:rgba(255,255,255,0.96);color:#000;box-shadow:-12px 0 30px rgba(0,0,0,0.12);padding:18px;box-sizing:border-box;transition:right .28s ease;z-index:230}
  nav.open{right:0}
  nav a{display:block;color:#111;text-decoration:none;font-weight:700;margin:10px 0}

  .panel{position:fixed;top:var(--header-h);right:0;height:calc(100% - var(--header-h));width:40%;max-width:680px;min-width:320px;transform:translateX(110%);transition:transform .28s ease;z-index:240;background:rgba(8,10,12,0.6);backdrop-filter:blur(6px);padding:22px;box-sizing:border-box}
  .panel.open{transform:translateX(0)}
  .panel .panel-head{font-family:var(--mono);font-size:16px;color:var(--accent-blue);margin-bottom:8px}
  .panel .panel-body {
  font-size: 15px;
  line-height: 1.45;
  color: #e6eef0;

  max-height: 70vh;           /* limits panel-body height to 70% of viewport */
  overflow-y: auto;           /* enables vertical scrolling if content is too long */
  padding-right: 1em;         /* optional: space so scrollbar doesn’t cover text */

  /* Mobile / touch devices */
  -webkit-overflow-scrolling: touch;  /* smooth scrolling on iOS Safari */
  overscroll-behavior: contain;       /* prevents parent page from scrolling when panel scrolls */
}
</style>
</head>
<body>
  <header>
    <div class="title">Jesse Young</div>
    <div class="menu-btn">works ▾</div>
  </header>

  <div class="subtitle">Jesse Young — portfolio · 3D wireframe camera · dual view</div>

  <nav aria-label="sites navigation"></nav>

  <aside class="panel" role="dialog" aria-hidden="true">
    <button class="close" aria-label="close panel">×</button>
    <div class="panel-content">
      <div class="panel-head">Welcome</div>
      <div class="panel-body">
        <p>Click <strong>works</strong> to open the menu and choose a section. Selected content will appear here over the animation.</p>
      </div>
    </div>
  </aside>

  <canvas id="glcanvas"></canvas>

  <script>
  // simple nav + panel (tabs)
  (function(){
    const menuBtn=document.querySelector('.menu-btn');
    const nav=document.querySelector('nav');
    const panel=document.querySelector('.panel');
    const panelContent=panel.querySelector('.panel-content');
    const closeBtn=panel.querySelector('.close');
    const tabs=['Bio','Book','Design','Text','Audio','Video','Photo','Contact'];
    nav.innerHTML=tabs.map(t=>`<a href="#" data-tab="${t}">${t}</a>`).join('');

    // NEW: distinct content for each tab (replace placeholders with your real content)
    const tabContent = {
      'Bio': `
        <div class="panel-head">Bio</div>
        <div class="panel-body">
          <p>Fresh updates and releases.</p>
          <ul>
            <li><strong>Project Orion</strong> — interactive photo essay. <a href="#">View</a></li>
            <li><strong>Gallery Pop-up</strong> — two-night screening. <a href="#">Details</a></li>
            <li><strong>Notes</strong> — behind‑the‑scenes sketches. <a href="#">Read</a></li>
          </ul>
        </div>`,
      'Book': `
        <div class="panel-head">Books</div>
        <div class="panel-body">
          <p>Jesse Young is a designer and multidisciplinary artist working across image, interface and sound.</p>
          <p>Currently focused on lightweight interactive systems and experimental cameras.</p>
          <div id="photos"></div>
          <p><a href="mailto:hello@example.com">Email</a> for a full CV.</p>
        </div>`,
      'Design': `
        <div class="panel-head">Design</div>
        <div class="panel-body">
          <p>Selected design work.</p>
          <div id="design-pdf-container" style="width:100%; height:800px;"></div>
          <ul>
            <li>Brand + site for <a href="#">Studio Delta</a></li>
            <li>WebGL mini-experience: <a href="#">Wireframe Camera</a></li>
            <li>Poster series: <a href="#">Signals</a></li>
          </ul>
        </div>`,
      'Text': `
        <div class="panel-head">Text</div>
        <div class="panel-body">
        <p> butt and butt test</p>
<div id="text-pdf-container" style="width:100%; height:800px;"></div>
          <p>(last updated September 2025, see&nbsp;<a href="https://daydaygamegame.substack.com">https://daydaygamegame.substack.com</a>&nbsp;for latest writings).&nbsp;</p>
<p><iframe style="border: none;" src="/pdfjs/web/viewer.html?file=/assets/magazine.pdf" width="100%" height="800px"></iframe></p>
<h2>Poetry&nbsp;</h2>
<p>Below is a excerpt from my forthcoming poetry collection <em>Emotional Seppuku, </em>due in 2026. Details forthcoming.&nbsp;</p>
<p>&nbsp;</p>
<h2>Articles&nbsp;</h2>
<p>(now primarily posting at&nbsp;<a href="https://daydaygamegame.substack.com">https://daydaygamegame.substack.com</a>)&nbsp;</p>
<ul style="list-style-type: circle;">
<li><a href="https://daydaygamegame.substack.com/p/chicky-is-back-childhood-nostalgia">Chicky 奇奇回来了is back - childhood, nostalgia and KFC in China</a>. DAY DAY GAME GAME &nbsp;https://archive.md/8Iyzi</li>
<li><a href="https://daydaygamegame.substack.com/p/musings-on-chinese-animation">Musings on Chinese Animation</a>. DAY DAY GAME GAME. &nbsp;https://archive.md/tkAE0</li>
<li><a href="https://daydaygamegame.substack.com/p/hejubian-g-fusion-game-fest-2025">H&eacute;j&ugrave;bi&agrave;n (G-fusion Game Fest 2025) Post-Mortem. DAY DAY GAME GAME</a>. &nbsp;https://archive.md/MBeFF</li>
<li><a href="https://www.theworldofchinese.com/2024/09/chinas-largest-board-game-convention-dicecon/">Indie Hopes and Creativity at China&rsquo;s Largest Board Game Convention.</a>&nbsp;The World of Chinese Maagzine. https://archive.md/EMNpf</li>
<li><a href="https://www.theworldofchinese.com/2024/08/chinese-gamers-black-myth-wukong-reviews-opinions/">Monkeying Around: Chinese Gamers on the &lsquo;Black Myth&rsquo; Phenomenon</a> (with Yang TingTing). The World Of Chinese Magazine. &nbsp;https://archive.md/0Parr</li>
<li><a href="https://www.theworldofchinese.com/2024/07/little-tyrant-revisited-a-brief-history-of-chinese-video-game-consoles/%20">Little Tyrants: A Brief History of Chinese Video Game Consoles.</a>&nbsp;The World of Chinese Magazine.&nbsp;https://archive.md/k4WwB</li>
<li><a href="https://www.thebeijinger.com/blog/2024/12/27/beijing-love-story-interview-hutong-heartthrobs-author-tammy-treichel">Beijing Love Story: An Interview With Hutong Heartthrobs Author Tammy Treichel</a>. The Beijinger. https://archive.md/91slI</li>
<li><a href="https://chaoyangtrap.house/s02-episode-9-china-dreams-of-electric-words/amp/">China Dreams of Electric Words</a>.&nbsp;CHAOYANG TRAP. &nbsp;https://archive.md/ssR0K</li>
<li><a href="https://www.theworldofchinese.com/2022/10/can-chinas-detective-novels-finally-make-crime-pay/">Can China&rsquo;s Detective Novels Finally Make Crime Pay? </a>The World,of Chinese Magazine. https://archive.md/oyP1n</li>
<li><a href="https://www.theworldofchinese.com/2022/07/out-of-the-cloud-chamber-how-to-help-chinese-poetry-go-west/">Out of the Cloud Chamber: How to Help Chinese Poetry Go West?</a> The World Of Chinese Magazine. https://archive.md/sTJkS</li>
<li><a href="https://www.theworldofchinese.com/2022/04/what-spooked-chinas-horror-film-industry/">What Spooked China&rsquo;s Horror Film Industry?</a> The World Of Chinese Magazine. &nbsp;https://archive.md/GwdQc</li>
<li><a href="https://www.theworldofchinese.com/2022/02/where-is-chinas-brothers-grimm/">Where is China&rsquo;s &ldquo;Brothers Grimm&rdquo;?</a> The World of Chinese Magazine. &nbsp;https://archive.md/MRRDg</li>
<li><a href="https://www.sixthtone.com/news/1008618">How an Iconic Shoe Brand Finally Became Cool.</a> SIXTH TONE. &nbsp;https://archive.md/fWAkz</li>
<li><a href="https://www.bjreview.com/Lifestyle/202206/t20220624_800298683.html%20">My favourite Beijing sounds.</a> BEIJING REVIEW. https://archive.md/eeWeY</li>
</ul>
<h2><strong>Translations</strong></h2>
<ul style="list-style-type: circle;">
<li><a href="https://www.spittoonlitmag.com/lin-zhao">LIN ZHAO, TREES</a> - Spittoon Literary Magazine (translated with Xiao Yue Shan). &nbsp;https://archive.md/QQ9nU</li>
<li><a href="https://www.theworldofchinese.com/2022/01/balcony-fiction/%20">SUN PIN, Balcony</a> - The World of Chinese Magazine. https://archive.md/XPhVj</li>
<li><a href="https://www.theworldofchinese.com/2021/11/gu-xiang-june-23-2016-english-translation/%20">GU XIANG, June 23, 2016</a> - The World of Chinese Magazine. https://archive.md/SAdoK</li>
<li><a href="https://www.theworldofchinese.com/2021/09/the-revenge-rocks-fiction/">YANG PING, The Revenge Rocks</a> - The World of Chinese Magazine. &nbsp;https://archive.md/SXTkx</li>
<li><a href="https://www.theworldofchinese.com/2021/04/schrodingers-inter-dimensional-cats/">WANG NUONUO, Why do cats gather at night? &nbsp;</a>https://archive.md/qB1hZ</li>
<li><a href="https://www.theworldofchinese.com/2021/06/my-newborn-baby-with-a-congenital-illness-should-i-let-him-die/">STORY FM, My baby was born with a rare disease&mdash;should I let him die?</a> The World of Chinese Magazine. https://archive.md/NBKVA</li>
<li><a href="https://www.theworldofchinese.com/2021/06/connecting-would-be-chinese-parents-with-american-surrogates/">STORY FM, Connecting would-be Chinese parents with American surrogates.</a> The World of Chinese Magazine. https://archive.md/ibqM9</li>
<li><a href="https://drive.google.com/file/d/1YIt-v-lzbDhKiozAB0i_GEa4NuJncmsM/view?usp=drivesdk">FENG XI, Exhibition Essay for Yang Song&rsquo;s 2021 solo exhibition, &lsquo;Vanishing Point&rsquo; </a>AYE GALLERY BEIJING.&nbsp;</li>
<li><a href="https://drive.google.com/file/d/1Y67MMQ3VHfpTVdAlS59zAxN5UboXuxGV/view?usp=drivesdk">HAIZI, Various Poems.</a> Unpublished&nbsp;</li>
<li><a href="https://drive.google.com/file/d/1DlBsyqXGbEAIphv1DxpShIJBQv5VHTid/view?usp=drivesdk">GU SHI, Moving House</a> (short story from M&ouml;bius Continuum). Unpublished.&nbsp;</li>
<li><a href="https://drive.google.com/file/d/1LugoAwsyyhzIo0WQYnkAdbumOwjwvkzR/view?usp=drivesdk">GU SHI, Brain Wager</a> (short story from M&ouml;bius Continuum). Unpublished.&nbsp;</li>
</ul>
<h2>Fiction</h2>
<ul style="list-style-type: circle;">
<li><a href="https://www.imdb.com/title/tt34985097">My Mafia Life：From Maid to Bride</a> VERTICAL DRAMA.&nbsp;<a href="https://drive.google.com/file/d/17htH8v1uwAdzcXue-yeSI5nM-RlEltsR/view?usp=drivesdk">Uncredited rewrite</a>. <a href="https://www.dailymotion.com/video/x9d91ha&nbsp;">https://www.dailymotion.com/video/x9d91ha&nbsp;</a></li>
</ul>
<h2>Talks&nbsp;</h2>
<ul style="list-style-type: circle;">
<li><a href="https://docs.google.com/presentation/d/%201zw25dTaji7QL2F2ms7UM-6uy1x9YXAEV">The Untold History (And Global Future) of Chinese Gaming</a>. 2025. Schwarzman Scholars, Tsinghua University. Slides - &nbsp;https://pan.baidu.com/s/1Gch-eCJv_19GQ0BcY8IsBQ FzB5</li>
<li><a href="https://drive.google.com/file/d/1uqOZasMPy51oAHxl5hatIiD8FhGS7fgh">HOW CHINA PLAYS. Digital gaming in China: history, future and global context.</a>&nbsp;2024. Royal Asiatic Society of Beijing (RASBJ). (see video section for recording).</li>
</ul>
<p>&nbsp;</p>
        </div>`,
      'Audio': `
        <div class="panel-head">Audio</div>
        <div class="panel-body">
          <p>Audio sketches and releases.</p>
          <ul>
            <li><a href="#">Tape Loops Vol. 1</a></li>
            <li><a href="#">Contact mic study</a></li>
            <li><a href="#">Live set — fragments</a></li>
          </ul>
        </div>`,
      'Video': `
        <div class="panel-head">Video</div>
        <div class="panel-body">
          <p>Shorts and experiments.</p>
        </div>`,
         'Photo': `
        <div class="panel-head">Bio</div>
        <div class="panel-body">
          <p>Fresh updates and releases.</p>
          <ul>
            <li><strong>Project Orion</strong> — interactive photo essay. <a href="#">View</a></li>
            <li><strong>Gallery Pop-up</strong> — two-night screening. <a href="#">Details</a></li>
            <li><strong>Notes</strong> — behind‑the‑scenes sketches. <a href="#">Read</a></li>
          </ul>
        </div>`,
      'Contact': `
        <div class="panel-head">Contact</div>
        <div class="panel-body">
          <p>Say hello — commissions and collaborations welcome.</p>
          <ul>
            <li>Email: <a href="mailto:hello@example.com">hello@example.com</a></li>
            <li>Instagram: <a href="#">@jesseyoung</a></li>
            <li>Location: Toronto / Remote</li>
          </ul>
        </div>`
    };
function showPanel(tab){
  panel.classList.add('open');
  panel.setAttribute('aria-hidden','false');

  // Insert the tab content
  panelContent.innerHTML = tabContent[tab] || `
    <div class="panel-head">${tab}</div>
    <div class="panel-body"><p>Content for ${tab} coming soon.</p ></div>
  `;

  // --- TEXT TAB: Lazy-load Google Drive PDF ---
  if(tab === 'Book'){
    const container = document.getElementById('text-pdf-container');
    if(container){
      container.innerHTML = ''; // Clear any existing iframe
      const textFileId = '1w0q54fgXkgNNL3IG_S7QzNR6hY9IyUZ_'; // Replace with your Google Drive file ID
      const iframe = document.createElement('iframe');
      iframe.src = `https://drive.google.com/file/d/${textFileId}/preview`;
      iframe.width = "100%";
      iframe.height = "600";
      iframe.style.border = "none";
      container.appendChild(iframe);
    }
  }

  // --- DESIGN TAB: Lazy-load Google Drive PDF ---
  if(tab === 'Design'){
    const container = document.getElementById('design-pdf-container');
    if(container){
      container.innerHTML = ''; // Clear any existing iframe
      const designFileId = '13UvLYiOjgpg65DF_7QF_Dql0PqamwhN2'; // Replace with your Google Drive file ID
      const iframe = document.createElement('iframe');
      iframe.src = `https://drive.google.com/file/d/${designFileId}/preview`;
      iframe.width = "100%";
      iframe.height = "600";
      iframe.style.border = "none";
      container.appendChild(iframe);
    }
  }

  // --- PHOTO TAB: Lazy-load NanoGallery2 ---
  if(tab === 'Photo'){
    const container = document.getElementById('photos');
    if(container){
      const originalHTML = `
        <a href=" " data-ngthumb="gallery/thumbnails/1.PNG" data-ngdesc="Hutong scene">Beijing 1</a >
        <a href="gallery/b1.JPG" data-ngthumb="gallery/thumbnails/1.PNG" data-ngdesc="Cats">Beijing 2</a >
        <a href="gallery/b1.JPG" data-ngthumb="gallery/thumbnails/1.PNG" data-ngdesc="I saw a monkey">Beijing 3</a >
        <a href="gallery/b1.JPG" data-ngthumb="gallery/thumbnails/1.PNG" data-ngdesc="Who?">Beijing 4</a >
        <a href="gallery/b1.JPG" data-ngthumb="gallery/thumbnails/1.PNG" data-ngdesc="What is this">Beijing 5</a >
        <a href="gallery/b1.JPG" data-ngthumb="gallery/thumbnails/1.PNG" data-ngdesc="Take it">Beijing 6</a >
      `;
      container.innerHTML = originalHTML; // Reset gallery links

      $(container).nanogallery2({
        itemsBaseURL: "https://romantiscience.github.io/",
        thumbnailWidth: 200,
        colorScheme: {
          thumbnail: { background: "rgba(0,0,0,1)" }
        },
        thumbnailLabel: {
          position: "overImageOnBottom",
          displayDescription: true
        },
        galleryDisplayMode: "pagination",
        galleryMaxRows: 1,
        galleryPaginationMode: "dots",
        thumbnailAlignment: "center",
        galleryMaxItems: 6,
        displayBreadcrumb: false,
        breadcrumbAutoHideTopLevel: false,
        breadcrumbOnlyCurrentLevel: false,
        thumbnailOpenImage: true
      });
    }
  }
}
    menuBtn.addEventListener('click', ()=> nav.classList.toggle('open'));
    nav.addEventListener('click', e=>{const a=e.target.closest('a'); if(!a) return; e.preventDefault(); showPanel(a.dataset.tab); nav.classList.remove('open');});
    closeBtn.addEventListener('click', ()=>{ panel.classList.remove('open'); panel.setAttribute('aria-hidden','true'); });
    window.addEventListener('keydown', e=>{ if(e.key==='Escape'){ panel.classList.remove('open'); nav.classList.remove('open'); }});
  })();
  </script>

  <!-- three.js and scene: two views (top & side), improved camera geometry and rotation + gentle zoom -->
  <script src="https://unpkg.com/three@0.152.0/build/three.min.js"></script>
  <script>
  (function(){
    const canvas = document.getElementById('glcanvas');
    const renderer = new THREE.WebGLRenderer({canvas, antialias:true});
    renderer.setPixelRatio(Math.min(window.devicePixelRatio||1,2));
    renderer.setSize(window.innerWidth, window.innerHeight);
    renderer.setClearColor(0x000000, 1);
    renderer.setScissorTest(true);

    const scene = new THREE.Scene();

    // Create a camera-like model using wireframe line segments for a clean retro look
    const cameraModel = new THREE.Group();

    // body (rectangular box) - white
    const bodyW = 3.4, bodyH = 1.9, bodyD = 1.6;
    const bodyGeo = new THREE.BoxGeometry(bodyW, bodyH, bodyD);
    const bodyWire = new THREE.LineSegments(new THREE.WireframeGeometry(bodyGeo), new THREE.LineBasicMaterial({color:0xffffff}));
    cameraModel.add(bodyWire);

    // lens mount - outer ring (slightly extruded cylinder) - white outline
    const mountOuter = new THREE.CylinderGeometry(0.85,0.85,0.25,32);
    mountOuter.rotateX(Math.PI/2);
    mountOuter.translate(0,0,bodyD/2 + 0.125);
    const mountWire = new THREE.LineSegments(new THREE.WireframeGeometry(mountOuter), new THREE.LineBasicMaterial({color:0xffffff}));
    cameraModel.add(mountWire);

    // inner lens element: green
    const lensInner = new THREE.CylinderGeometry(0.45,0.45,0.2,24);
    lensInner.rotateX(Math.PI/2);
    lensInner.translate(0,0,bodyD/2 + 0.25);
    const lensWire = new THREE.LineSegments(new THREE.WireframeGeometry(lensInner), new THREE.LineBasicMaterial({color:0x00ff7f}));
    cameraModel.add(lensWire);

    // viewfinder on top (small box) - white
    const vfGeo = new THREE.BoxGeometry(0.6,0.25,0.4);
    vfGeo.translate(-0.9, bodyH/2 + 0.125, 0);
    const vfWire = new THREE.LineSegments(new THREE.WireframeGeometry(vfGeo), new THREE.LineBasicMaterial({color:0xffffff}));
    cameraModel.add(vfWire);

    // small detail: shutter button (blue) - moved to sit above the body
    const btnGeo = new THREE.BoxGeometry(0.15,0.05,0.3);
    // place the button just above the top surface of the camera body, near the right edge
    btnGeo.translate(1.25, bodyH/2 + 0.14, 0.45);
    const btnWire = new THREE.LineSegments(new THREE.WireframeGeometry(btnGeo), new THREE.LineBasicMaterial({color:0x1e90ff}));
    cameraModel.add(btnWire);

    // center the model
    cameraModel.position.set(0, 0, 0);
    scene.add(cameraModel);

    // two view cameras: left = top-ish angled view, right = side-ish angled view
    const camLeft = new THREE.PerspectiveCamera(45, (window.innerWidth/2)/window.innerHeight, 0.1, 100);
    camLeft.position.set(0, 5.6, 5); // higher and a bit in front so lens reads well in top view
    camLeft.lookAt(0, 0, 0);

    const camRight = new THREE.PerspectiveCamera(45, (window.innerWidth/2)/window.innerHeight, 0.1, 100);
    camRight.position.set(8.5, 2.5, 3.0); // side / 3/4 angle
    camRight.lookAt(0, 0, 0);

    // gentle lighting (not necessary for wireframes but gives depth if ever changed)
    scene.add(new THREE.AmbientLight(0xffffff, 0.45));
    const dl = new THREE.DirectionalLight(0xffffff, 0.6); dl.position.set(5, 10, 7); scene.add(dl);

    // interaction: drag to rotate, wheel to zoom both view cameras
    let dragging=false, lastX=0, lastY=0;
    function startDrag(e){ dragging=true; const p=(e.touches && e.touches[0]) || e; lastX=p.clientX; lastY=p.clientY; }
    function moveDrag(e){ if(!dragging) return; const p=(e.touches && e.touches[0]) || e; const dx=(p.clientX-lastX)*0.005; const dy=(p.clientY-lastY)*0.005; cameraModel.rotation.y += dx; cameraModel.rotation.x = Math.max(-0.4, Math.min(0.4, cameraModel.rotation.x + dy)); lastX=p.clientX; lastY=p.clientY; }
    function endDrag(){ dragging=false; }
    window.addEventListener('pointerdown', startDrag); window.addEventListener('pointermove', moveDrag); window.addEventListener('pointerup', endDrag);
    window.addEventListener('touchstart', startDrag, {passive:true}); window.addEventListener('touchmove', moveDrag, {passive:true}); window.addEventListener('touchend', endDrag);

    // wheel zoom (each camera moves outward/inward a bit)
    window.addEventListener('wheel', (ev)=>{
      const delta = Math.sign(ev.deltaY) * 0.6;
      camLeft.position.multiplyScalar(1 + delta*0.02);
      camRight.position.multiplyScalar(1 + delta*0.02);
    }, {passive:true});

    function onWindowResize(){
      const w = window.innerWidth, h = window.innerHeight;
      renderer.setSize(w, h);
      const aspect = (w/2)/h;
      camLeft.aspect = aspect; camLeft.updateProjectionMatrix();
      camRight.aspect = aspect; camRight.updateProjectionMatrix();
    }
    window.addEventListener('resize', onWindowResize);

    // subtle autonomous motion so the model reads in both views
    const clock = new THREE.Clock();
    function animate(){
      requestAnimationFrame(animate);
      const t = clock.getElapsedTime();

      // autonomous slow rotation around vertical axis (small amplitude)
      cameraModel.rotation.y += 0.002;

      // slight breathing (scale) to make wireframe feel alive but subtle
      const scale = 1 + Math.sin(t*0.6) * 0.0025;
      cameraModel.scale.set(scale, scale, scale);

      // layout split-screen
      const w = window.innerWidth, h = window.innerHeight;
      const half = Math.floor(w / 2);

      // left view (top-ish)
      renderer.setViewport(0, 0, half, h);
      renderer.setScissor(0, 0, half, h);
      renderer.render(scene, camLeft);

      // right view (side-ish)
      renderer.setViewport(half, 0, w - half, h);
      renderer.setScissor(half, 0, w - half, h);
      renderer.render(scene, camRight);
    }

    // initial resize + animate
    onWindowResize();
    animate();

    // expose for debugging
    window._CAM = { renderer, scene, cameraModel, camLeft, camRight };
  })();
  </script>
<img id="randomGif" src="assets/gif.gif" alt="Random GIF"
     style="display:none; position:fixed; top:50%; left:50%; transform-origin:center; pointer-events:none;">

<script>
let lastGifTime = Date.now();

function showGif(force = false) {
  // Only show based on probability, unless forced
  if (!force && Math.random() > 0.3) return; // 30% chance

  const gif = document.getElementById('randomGif');

  // Force reload so animation restarts
  gif.src = 'assets/gif.gif?cacheBust=' + Date.now();

  // Random size 30%–100%
  const sizePercent = Math.random() * 70 + 30;
  gif.style.width = sizePercent + '%';
  gif.style.height = 'auto';

  // Random rotation
  const rotation = Math.random() * 360;
  gif.style.transform = `translate(-50%, -50%) rotate(${rotation}deg)`;

  // Random duration 1–5 seconds
  const duration = Math.random() * 4000 + 1000;

  gif.style.display = 'block';
  setTimeout(() => {
    gif.style.display = 'none';
  }, duration);

  // Update the last time we showed a GIF
  lastGifTime = Date.now();
}

// Check every 4 seconds
setInterval(() => {
  const now = Date.now();

  // Force if 10+ seconds have passed without a GIF
  if (now - lastGifTime >= 10000) {
    showGif(true);
  } else {
    showGif(false);
  }
}, 4000);

// Optional: trigger first check right after load
window.addEventListener('load', () => {
  showGif(false);
});
</script>
</body>
</html>
